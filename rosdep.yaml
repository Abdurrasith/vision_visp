libvisp-dev:
  ubuntu:
    '10.04': libvisp-dev
    '10.10': &fromsource |
      if [ ! -f /opt/ros/lib/libvisp-2.so ] ; then
        mkdir -p ~/ros/ros-deps
        cd ~/ros/ros-deps
        wget --tries=10 \
         http://gforge.inria.fr/frs/download.php/27536/ViSP-2.6.0.tar.gz
        tar xzf ViSP-2.6.0.tar.gz
        cd ViSP-2.6.0
        cmake -DCMAKE_INSTALL_PREFIX=/opt/ros				\
              -DCMAKE_CXX_FLAGS="-DNDEBUG -march=native -O3 -g"		\
              -DBUILD_DEMOS=ON -DBUILD_TESTING=ON -DBUILD_EXAMPLES=ON	\
              -DBUILD_SHARED_LIBS=ON -DBUILD_DEPRECATED=ON		\
              -DUSE_DC1394_1=OFF -DUSE_FFMPEG=ON		       	\
              -DUSE_DC1394_2=ON -DUSE_V4L2=ON -DUSE_OPENCV=ON		\
              -DUSE_COIN_SIMULATOR=ON -DUSE_GSL=ON			\
              -DUSE_XML2=ON -DUSE_GTK2=ON -DUSE_LIBJPEG=ON		\
              -DUSE_LIBPNG=ON -DUSE_LIBPLOTTER=ON			\
              -DDESIRED_QT_VERSION=4
        make
        sudo make install
      fi
    '11.04': *fromsource
    '11.10': *fromsource
  debian: *fromsource
